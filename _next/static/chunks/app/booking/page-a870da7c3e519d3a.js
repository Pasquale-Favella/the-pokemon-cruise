(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{968:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var a=t(2115),r=t(3655),i=t(5155),l=a.forwardRef((e,s)=>(0,i.jsx)(r.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=l},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(5155);t(2115);var r=t(9434);function i(e){let{className:s,type:t,...i}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}},2903:(e,s,t)=>{"use strict";t.d(s,{BookingSteps:()=>ea});var a=t(5155),r=t(6766),i=t(5196),l=t(9870),n=t(4516),d=t(9074),c=t(7580),o=t(9946);let m=(0,o.A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),x=(0,o.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),h=(0,o.A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),u=(0,o.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var p=t(2355),f=t(3052),j=t(285),b=t(6695),y=t(2115),v=t(6101),g=t(6081),N=t(5185),w=t(5845),k=t(5503),C=t(1275),P=t(8905),F=t(3655),A="Checkbox",[S,M]=(0,g.A)(A),[D,$]=S(A);function T(e){let{__scopeCheckbox:s,checked:t,children:r,defaultChecked:i,disabled:l,form:n,name:d,onCheckedChange:c,required:o,value:m="on",internal_do_not_use_render:x}=e,[h,u]=(0,w.i)({prop:t,defaultProp:null!=i&&i,onChange:c,caller:A}),[p,f]=y.useState(null),[j,b]=y.useState(null),v=y.useRef(!1),g=!p||!!n||!!p.closest("form"),N={checked:h,disabled:l,setChecked:u,control:p,setControl:f,name:d,form:n,value:m,hasConsumerStoppedPropagationRef:v,required:o,defaultChecked:!O(i)&&i,isFormControl:g,bubbleInput:j,setBubbleInput:b};return(0,a.jsx)(D,{scope:s,...N,children:"function"==typeof x?x(N):r})}var E="CheckboxTrigger",R=y.forwardRef((e,s)=>{let{__scopeCheckbox:t,onKeyDown:r,onClick:i,...l}=e,{control:n,value:d,disabled:c,checked:o,required:m,setControl:x,setChecked:h,hasConsumerStoppedPropagationRef:u,isFormControl:p,bubbleInput:f}=$(E,t),j=(0,v.s)(s,x),b=y.useRef(o);return y.useEffect(()=>{let e=null==n?void 0:n.form;if(e){let s=()=>h(b.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[n,h]),(0,a.jsx)(F.sG.button,{type:"button",role:"checkbox","aria-checked":O(o)?"mixed":o,"aria-required":m,"data-state":W(o),"data-disabled":c?"":void 0,disabled:c,value:d,...l,ref:j,onKeyDown:(0,N.m)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,N.m)(i,e=>{h(e=>!!O(e)||!e),f&&p&&(u.current=e.isPropagationStopped(),u.current||e.stopPropagation())})})});R.displayName=E;var B=y.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:r,checked:i,defaultChecked:l,required:n,disabled:d,value:c,onCheckedChange:o,form:m,...x}=e;return(0,a.jsx)(T,{__scopeCheckbox:t,checked:i,defaultChecked:l,disabled:d,required:n,onCheckedChange:o,name:r,form:m,value:c,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R,{...x,ref:s,__scopeCheckbox:t}),r&&(0,a.jsx)(_,{__scopeCheckbox:t})]})}})});B.displayName=A;var z="CheckboxIndicator",I=y.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:r,...i}=e,l=$(z,t);return(0,a.jsx)(P.C,{present:r||O(l.checked)||!0===l.checked,children:(0,a.jsx)(F.sG.span,{"data-state":W(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...e.style}})})});I.displayName=z;var L="CheckboxBubbleInput",_=y.forwardRef((e,s)=>{let{__scopeCheckbox:t,...r}=e,{control:i,hasConsumerStoppedPropagationRef:l,checked:n,defaultChecked:d,required:c,disabled:o,name:m,value:x,form:h,bubbleInput:u,setBubbleInput:p}=$(L,t),f=(0,v.s)(s,p),j=(0,k.Z)(n),b=(0,C.X)(i);y.useEffect(()=>{if(!u)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!l.current;if(j!==n&&e){let t=new Event("click",{bubbles:s});u.indeterminate=O(n),e.call(u,!O(n)&&n),u.dispatchEvent(t)}},[u,j,n,l]);let g=y.useRef(!O(n)&&n);return(0,a.jsx)(F.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:g.current,required:c,disabled:o,name:m,value:x,form:h,...r,tabIndex:-1,ref:f,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function O(e){return"indeterminate"===e}function W(e){return O(e)?"indeterminate":e?"checked":"unchecked"}_.displayName=L;var Z=t(9434);function G(e){let{className:s,...t}=e;return(0,a.jsx)(B,{"data-slot":"checkbox",className:(0,Z.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(I,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(i.A,{className:"size-3.5"})})})}var J=t(2523),V=t(5057),q=t(9100);let Q=(0,o.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var H=t(210),K=t(7634);function X(){let{cruiseId:e,cabinType:s,setCabinType:t}=(0,H.$B)(),[l,n]=(0,y.useState)(null),[d,c]=(0,y.useState)([]),[o,m]=(0,y.useState)(null);(0,y.useEffect)(()=>{if(e){let s=(0,K.Qr)(e);n(s||null),c((null==s?void 0:s.cabinTypes)||[])}else n(null),c([])},[e]);let x=e=>{m(o===e?null:e)};return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:l&&d.length>0?d.map(e=>(0,a.jsx)(b.Zp,{className:"cursor-pointer transition-all overflow-hidden ".concat(s===e.id?"ring-2 ring-primary ring-offset-2":"hover:shadow-md"),onClick:()=>t(e.id),children:(0,a.jsx)(b.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,a.jsx)("div",{className:"relative w-full md:w-1/3 h-48",children:(0,a.jsx)(r.default,{src:e.images&&e.images.length>0?e.images[0]:"/images/cruise-placeholder.jpg",alt:e.name,fill:!0,className:"object-cover",onError:e=>{e.target.src="/images/cruise-placeholder.jpg"}})}),(0,a.jsxs)("div",{className:"p-4 md:w-2/3 flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:e.name}),s===e.id&&(0,a.jsx)("div",{className:"ml-2 bg-primary rounded-full p-1",children:(0,a.jsx)(i.A,{className:"h-4 w-4 text-white"})})]}),(0,a.jsxs)("div",{className:"text-lg font-bold text-primary",children:["$",e.price]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[(0,a.jsx)("span",{className:"mr-2",children:"Capacity:"}),(0,a.jsx)("div",{className:"flex",children:Array.from({length:e.capacity}).map((e,s)=>(0,a.jsx)("div",{className:"w-4 h-4 relative mr-1",children:(0,a.jsx)(r.default,{src:"/images/pokeball-icon.svg",alt:"Capacity",width:16,height:16})},s))})]}),o===e.id&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Amenities:"}),(0,a.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:e.amenities.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm flex items-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 mr-2 text-amber-500",children:"â€¢"}),e]},s))})]})]}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),x(e.id)},className:"text-sm text-primary mt-2 hover:underline self-start",children:o===e.id?"Show less":"Show details"})]})]})})},e.id)):(0,a.jsxs)("div",{className:"col-span-1 flex flex-col items-center justify-center p-8 border border-dashed rounded-lg text-center",children:[(0,a.jsx)(Q,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"No Cruise Selected"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please select a cruise in the previous step to see available cabins."})]})})})}var Y=t(2375),U=t(7),ee=t(3008);let es=(0,o.A)("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),et=[{id:"details",title:"Trip Details",icon:l.A},{id:"cabin",title:"Cabin",icon:es},{id:"payment",title:"Payment",icon:x}];function ea(e){var s;let{initialCruiseId:t}=e,{currentStep:o,currentStepIndex:v,steps:g,isFormValid:N,formErrors:w,selectedCruise:k,handleNextStep:C,handlePreviousStep:P,handleCompleteBooking:F,calculatePriceBreakdown:A}=function(){let{initialCruiseId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[s,t]=(0,y.useState)(et[0].id),[a,r]=(0,y.useState)([]),[i,l]=(0,y.useState)(!1),{region:n,cruiseId:d,dates:c,passengers:o,cabinType:m,initializeBooking:x}=(0,H.$B)(),h=d?(0,K.Qr)(d):null;(0,y.useEffect)(()=>{if(e){let s=(0,K.Qr)(e);s&&x({cruiseId:e,region:s.region})}},[e,x]);let u=(0,y.useCallback)((e,s)=>{if(!e||!s)return{name:"N/A",price:0,capacity:0};let t=e.cabinTypes.find(e=>e.id===s);return t?{name:t.name,price:t.price,capacity:t.capacity}:{name:"N/A",price:0,capacity:0}},[]),p=(0,y.useCallback)(()=>{if(!h)return null;let e=h.startingPrice,s=.4*h.startingPrice,t=o.adults,a=o.children,r=e*t,i=s*a,l=r+i,n=u(h,m),d=n.price,c=l+d;return{adultFarePerPerson:e,childFarePerPerson:s,numberOfAdults:t,numberOfChildren:a,totalAdultFare:r,totalChildFare:i,totalCruiseFare:l,cabinName:n.name,cabinPrice:d,cabinCapacity:n.capacity,subtotal:c,taxesAndFees:99,total:c+99,rawAdultFare:h.startingPrice}},[h,o,m,u]),f=(0,y.useCallback)(()=>{let e=[],t=!1,a=et.find(e=>e.id===s);if(!a){e.push("Invalid booking step."),l(!1),r(e);return}switch(a.id){case"details":let i=!!d,n=!!c.startDate&&!!c.endDate,x=o.adults>0;if(t=i&&n&&x,i||e.push("Please select a cruise."),n||e.push("Please select your travel dates."),x||e.push("At least one adult is required."),t&&h&&c.startDate&&c.endDate){let s=(0,U.m)(c.endDate,c.startDate)+1;h.duration!==s&&(e.push("The selected date range (".concat(s," days) does not match the cruise duration of ").concat(h.duration," days. Please adjust your selection.")),t=!1)}break;case"cabin":if(t=!!m,m){if(h){let s=u(h,m),a=o.adults+o.children;a>0&&s.capacity<a&&(e.push("The selected cabin (".concat(s.name,") cannot accommodate ").concat(a," guests (max ").concat(s.capacity,"). Please choose another cabin or adjust traveler numbers.")),t=!1)}}else e.push("Please select a cabin type.");break;case"payment":t=!0;break;default:t=!1,e.push("Unknown step.")}return l(t),r(e),t},[s,d,c,o,m,h,u]);(0,y.useEffect)(()=>{f()},[s,d,c,o,m,f]);let j=et.findIndex(e=>e.id===s);return{currentStep:s,currentStepIndex:j,steps:et,isFormValid:i,formErrors:a,selectedCruise:h,passengers:o,dates:c,cabinType:m,handleNextStep:()=>{f()&&j<et.length-1&&t(et[j+1].id)},handlePreviousStep:()=>{j>0&&t(et[j-1].id)},handleCompleteBooking:()=>{if(f()){var e;console.log("Booking completed with data:",{cruiseId:d,region:n,dates:c,passengers:o,cabinType:m,totalPrice:null==(e=p())?void 0:e.total}),alert("Booking Successful! Thank you for choosing The Pok\xe9mon Cruise!")}},getCabinDetails:u,calculatePriceBreakdown:p,formatDateRange:e=>e.startDate&&e.endDate?"".concat((0,ee.GP)(e.startDate,"MMM dd, yyyy")," - ").concat((0,ee.GP)(e.endDate,"MMM dd, yyyy")):"N/A"}}({initialCruiseId:t}),S=A();return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("ol",{className:"flex items-center w-full",children:g.map((e,s)=>{let t=e.icon,r=e.id===o,l=g.findIndex(e=>e.id===o)>s,n=s===g.length-1;return(0,a.jsxs)("li",{className:"flex items-center ".concat(n?"":"w-full"),children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full lg:h-10 lg:w-10 shrink-0 ".concat(r?"bg-primary text-white":l?"bg-primary/20 text-primary":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"),children:l?(0,a.jsx)(i.A,{className:"h-4 w-4"}):(0,a.jsx)(t,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"mt-2 text-xs ".concat(r?"text-primary font-medium":"text-gray-500 dark:text-gray-400"),children:e.title})]}),!n&&(0,a.jsx)("div",{className:"flex-1 h-0.5 mx-2 ".concat(l?"bg-primary":"bg-gray-200 dark:bg-gray-700")})]},e.id)})})}),(0,a.jsxs)(b.Zp,{className:"mb-6",children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center",children:[(()=>{var e;let s=(null==(e=g.find(e=>e.id===o))?void 0:e.icon)||l.A;return(0,a.jsx)(s,{className:"mr-2 h-5 w-5 text-primary"})})(),null==(s=g.find(e=>e.id===o))?void 0:s.title]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsxs)("div",{className:"min-h-[300px]",children:["details"===o&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center mb-2 text-blue-500",children:[(0,a.jsx)(n.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Destination"})]}),(0,a.jsx)(Y.W,{hideSteps:!0,hideLabels:!0,initialStep:"destination"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2 text-blue-500",children:[(0,a.jsx)(d.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Travel Dates"})]}),(0,a.jsx)(Y.W,{hideSteps:!0,hideLabels:!0,initialStep:"dates"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2 text-blue-500",children:[(0,a.jsx)(c.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Travelers"})]}),(0,a.jsx)(Y.W,{hideSteps:!0,hideLabels:!0,initialStep:"travelers"})]})]}),"cabin"===o&&(0,a.jsx)(X,{}),"payment"===o&&k&&S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"Payment Information"})}),(0,a.jsxs)(b.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center py-4 border-b border-dashed dark:border-gray-700 mb-6",children:[(0,a.jsx)(r.default,{src:"/images/pokeball-payment.svg",alt:"Payment Pokeball",width:72,height:72,className:"mx-auto mb-3 opacity-90"}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm text-muted-foreground",children:[(0,a.jsx)(m,{className:"w-4 h-4 mr-2 text-green-500"}),(0,a.jsxs)("span",{children:["Secure payment processing by ",(0,a.jsx)("strong",{children:"Silph Co. Financial"}),"."]})]})]}),(0,a.jsxs)("div",{className:"space-y-5",children:[" ",(0,a.jsxs)("div",{children:[(0,a.jsx)(V.J,{htmlFor:"cardNumber",className:"text-sm font-medium",children:"Card Number"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsx)(x,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,a.jsx)(J.p,{id:"cardNumber",placeholder:"â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢",className:"pl-10"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[(0,a.jsxs)("div",{className:"md:col-span-3",children:[(0,a.jsx)(V.J,{htmlFor:"expiryDate",className:"text-sm font-medium",children:"Expiry Date"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsx)(h,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,a.jsx)(J.p,{id:"expiryDate",placeholder:"MM / YY",className:"pl-10"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(V.J,{htmlFor:"cvc",className:"text-sm font-medium",children:"CVC / CVV"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsx)(u,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,a.jsx)(J.p,{id:"cvc",placeholder:"â€¢â€¢â€¢",className:"pl-10"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(V.J,{htmlFor:"cardHolder",className:"text-sm font-medium",children:"Cardholder Name"}),(0,a.jsx)(J.p,{id:"cardHolder",placeholder:"Ash Ketchum",className:"mt-1"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,a.jsx)(G,{id:"saveCard",className:"border-2 border-gray-400 dark:border-gray-500 data-[state=checked]:border-primary"}),(0,a.jsx)(V.J,{htmlFor:"saveCard",className:"text-sm font-medium text-foreground/90 cursor-pointer",children:"Securely save this card for future Pok\xe9Mart purchases."})]}),(0,a.jsx)(q.w,{className:"my-6"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Or pay with:"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-1",children:[(0,a.jsxs)(j.$,{variant:"outline",className:"flex-1 py-3 hover:bg-muted/50 transition-colors duration-150",children:[(0,a.jsx)(r.default,{src:"/images/meowth-pay.svg",alt:"Meowth Pay",width:22,height:22,className:"mr-2 opacity-90"})," Meowth Pay"]}),(0,a.jsxs)(j.$,{variant:"outline",className:"flex-1 py-3 hover:bg-muted/50 transition-colors duration-150",children:[(0,a.jsx)(r.default,{src:"/images/porygon-pay.svg",alt:"Porygon Pay",width:22,height:22,className:"mr-2 opacity-90"})," Porygon Pay"]})]})]})]})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"Final Price Breakdown"})}),(0,a.jsx)(b.Wu,{children:S&&k?(0,a.jsxs)("div",{className:"space-y-1 py-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Adult Fare (x",S.numberOfAdults,")"]}),(0,a.jsxs)("span",{children:["$",S.rawAdultFare.toFixed(2)," / person"]})]}),S.numberOfChildren>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Child Fare (x",S.numberOfChildren,")"]}),(0,a.jsxs)("span",{children:["$",S.childFarePerPerson.toFixed(2)," / person (60% off)"]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Total Cruise Fare"}),(0,a.jsxs)("span",{children:["$",S.totalCruiseFare.toFixed(2)]})]}),S.cabinName&&"N/A"!==S.cabinName&&(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center",children:["Cabin (",S.cabinName,")",S.cabinCapacity&&S.cabinCapacity>0&&(0,a.jsxs)("span",{className:"ml-1 text-xs flex items-center",children:["(",(0,a.jsx)(r.default,{src:"/images/pokeball-icon.svg",alt:"Capacity",width:12,height:12,className:"mr-1 opacity-75 inline-block"}),"Max ",S.cabinCapacity,")"]})]}),(0,a.jsxs)("span",{children:["$",S.cabinPrice.toFixed(2)]})]}),(0,a.jsx)(q.w,{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Subtotal (Cruise + Cabin)"}),(0,a.jsxs)("span",{children:["$",S.subtotal.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Taxes & Fees"}),(0,a.jsxs)("span",{children:["$",S.taxesAndFees.toFixed(2)]})]}),(0,a.jsx)(q.w,{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-base pt-1",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["$",S.total.toFixed(2)]})]})]}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select your cruise options to see the final price breakdown."})})]})]})]}),w.length>0&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,a.jsx)("ul",{className:"text-sm text-red-600 dark:text-red-400 pl-5 list-disc",children:w.map((e,s)=>(0,a.jsx)("li",{children:e},s))})})]}),(0,a.jsxs)(b.wL,{className:"flex justify-between",children:[(0,a.jsxs)(j.$,{variant:"outline",onClick:P,disabled:0===v,children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Back"]}),v<g.length-1?(0,a.jsxs)(j.$,{onClick:C,disabled:!N,className:"bg-primary hover:bg-primary/90",children:["Continue",(0,a.jsx)(f.A,{className:"ml-2 h-4 w-4"})]}):(0,a.jsxs)(j.$,{onClick:F,className:"bg-amber-500 hover:bg-amber-600 text-white",children:["Complete Booking",(0,a.jsx)(i.A,{className:"ml-2 h-4 w-4"})]})]})]})]})}},3810:(e,s,t)=>{Promise.resolve().then(t.bind(t,2903)),Promise.resolve().then(t.bind(t,7703))},5057:(e,s,t)=>{"use strict";t.d(s,{J:()=>l});var a=t(5155);t(2115);var r=t(968),i=t(9434);function l(e){let{className:s,...t}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},7703:(e,s,t)=>{"use strict";t.d(s,{BookingSummaryWidget:()=>o});var a=t(5155),r=t(3353),i=t(6766),l=t(7369),n=t(9100),d=t(7634);let c=e=>{if(!e)return"";if("string"==typeof e)try{return new Date(e).toLocaleDateString()}catch(s){return console.error("Invalid date string:",e,s),e}return e.toLocaleDateString()};function o(){let[e]=(0,r.fp)(l.ad),[s]=(0,r.fp)(l.j),[t]=(0,r.fp)(l.R4),[o]=(0,r.fp)(l.Vf),m=e?(0,d.Qr)(e):null,x=null==m?void 0:m.cabinTypes.find(e=>e.id===o);return m?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Selected Cruise"}),(0,a.jsx)("p",{children:m.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[m.duration," days â€¢ ",m.region," Region"]})]}),(0,a.jsx)(n.w,{}),s.startDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Travel Dates"}),(0,a.jsxs)("p",{children:[c(s.startDate)," - ",s.endDate?c(s.endDate):""]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[m.duration," days"]})]}),(0,a.jsx)(n.w,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Travelers"}),(0,a.jsxs)("p",{children:[t.adults," ",1===t.adults?"Adult":"Adults"]}),t.children>0&&(0,a.jsxs)("p",{children:[t.children," ",1===t.children?"Child":"Children"]})]}),o&&x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.w,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Cabin Type"}),(0,a.jsx)("p",{children:x.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",x.price.toFixed(2)]})]})]}),(0,a.jsx)(n.w,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Price Details"}),m&&(t.adults>0||t.children>0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-sm",children:[(0,a.jsx)("span",{children:"Adult Cruise Fare (per person):"}),(0,a.jsxs)("span",{children:["$",m.startingPrice.toFixed(2)]})]}),t.children>0&&(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsx)("span",{children:"Child Cruise Fare (per person, 60% off):"}),(0,a.jsxs)("span",{children:["$",(.4*m.startingPrice).toFixed(2)]})]}),t.adults>0&&(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsx)("span",{children:"Adults:"}),(0,a.jsx)("span",{children:t.adults})]}),t.children>0&&(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsx)("span",{children:"Children:"}),(0,a.jsx)("span",{children:t.children})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm font-medium",children:[(0,a.jsx)("span",{children:"Total Cruise Fare:"}),(0,a.jsxs)("span",{children:["$",(m.startingPrice*t.adults+.4*m.startingPrice*t.children).toFixed(2)]})]})]}),x&&(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsxs)("span",{children:["Cabin Cost (",x.name,"):"]}),(0,a.jsxs)("span",{children:["$",x.price.toFixed(2)]})]}),m&&(t.adults>0||t.children>0)&&x&&(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm font-semibold",children:[(0,a.jsx)("span",{children:"Subtotal (Cruise + Cabin):"}),(0,a.jsxs)("span",{children:["$",(m.startingPrice*t.adults+.4*m.startingPrice*t.children+x.price).toFixed(2)]})]}),!(m&&(t.adults>0||t.children>0))&&x&&(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm font-semibold",children:[(0,a.jsx)("span",{children:"Cabin Subtotal:"}),(0,a.jsxs)("span",{children:["$",x.price.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsx)("span",{children:"Taxes & Fees:"}),(0,a.jsx)("span",{children:"$99.00"})]}),(0,a.jsx)(n.w,{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["$",(()=>{if(!m&&!x)return 0;let{adults:e,children:s}=t,a=0;if(m&&e+s>0){let t=m.startingPrice;a=t*e+.4*t*s}let r=x?x.price:0;return!m&&x?r+99:a+r+99})().toFixed(2)]})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-950/30 rounded-md border border-amber-200 dark:border-amber-800",children:(0,a.jsxs)("div",{className:"flex items-center text-amber-800 dark:text-amber-400",children:[(0,a.jsx)(i.default,{src:"/images/pokeball-icon.svg",alt:"Pokeball",width:20,height:20,className:"mr-2"}),(0,a.jsx)("p",{className:"text-sm",children:"Earn Pok\xe9Points with every booking! Members get exclusive access to rare Pok\xe9mon encounters."})]})})]}):(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(i.default,{src:"/images/pikachu-waiting.png",alt:"Pikachu waiting",width:100,height:100,className:"mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Please select a cruise to see your booking details."})]})}},9100:(e,s,t)=>{"use strict";t.d(s,{w:()=>o});var a=t(5155),r=t(2115),i=t(3655),l="horizontal",n=["horizontal","vertical"],d=r.forwardRef((e,s)=>{var t;let{decorative:r,orientation:d=l,...c}=e,o=(t=d,n.includes(t))?d:l;return(0,a.jsx)(i.sG.div,{"data-orientation":o,...r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:s})});d.displayName="Separator";var c=t(9434);function o(e){let{className:s,orientation:t="horizontal",decorative:r=!0,...i}=e;return(0,a.jsx)(d,{"data-slot":"separator",decorative:r,orientation:t,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}}},e=>{var s=s=>e(e.s=s);e.O(0,[389,866,817,265,544,646,595,375,441,684,358],()=>s(3810)),_N_E=e.O()}]);